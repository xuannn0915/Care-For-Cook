import{_ as p,r as h,o as f,c as g,a as e,p as w,q as c,v as d,b as _,w as u,d as m}from"./index-dtmuRJ_q.js";var b={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"careforcook",BASE_URL:"/Care-For-Cook/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:v}=b,x={data(){return{username:"",password:"",alert:null}},methods:{login(){const{username:l}=this,{password:o}=this,r={username:l,password:o};this.$http.post(`${v}/admin/signin`,r).then(t=>{const{expired:s,token:a}=t.data;document.cookie=`CareForCookToken = ${a}; expires = ${new Date(s)}`,alert(t.data.message),this.$router.push("/orders")}).catch(t=>{this.username===""||this.password===""?alert("欄位不可為空白！"):alert(`${t.response.data.message},請輸入正確帳號密碼`)})}}},k={class:"backstage_login bg-white row gx-0 position-relative"},V=e("div",{class:"bg-image col-md-6"},null,-1),C={class:"login bg-white col-md-6 my-auto"},y={class:"row gx-0"},E={class:"col-8 mx-auto"},T=e("h3",{class:"text-primary fw-bold mb-6"},"後台登入",-1),D={class:"mb-6"},R=e("label",{for:"login_account",class:"form-label"},"帳號",-1),U=e("div",{class:"invalid-feedback"},"請輸入帳號",-1),B={class:"mb-6"},L=e("label",{for:"login_password",class:"form-label"},"密碼",-1),q={class:"login_button d-flex flex-column align-items-center"};function I(l,o,r,t,s,a){const i=h("router-link");return f(),g("main",k,[V,e("div",C,[e("div",y,[e("div",E,[T,e("form",{action:"#",onKeyup:o[2]||(o[2]=w((...n)=>a.login&&a.login(...n),["enter"]))},[e("div",D,[R,c(e("input",{type:"text",class:"form-control",id:"login_account",placeholder:"請輸入信箱","onUpdate:modelValue":o[0]||(o[0]=n=>s.username=n),required:""},null,512),[[d,s.username]]),U]),e("div",B,[L,c(e("input",{type:"password",class:"form-control",id:"login_password",placeholder:"請輸入密碼","onUpdate:modelValue":o[1]||(o[1]=n=>s.password=n),required:""},null,512),[[d,s.password]])]),e("div",q,[_(i,{to:"/admin",class:"btn btn-outline-primary mb-3 w-100",onClick:a.login},{default:u(()=>[m(" 登入 ")]),_:1},8,["onClick"]),_(i,{to:"/",class:"fs-6"},{default:u(()=>[m("回前台首頁")]),_:1})])],32)])])])])}const P=p(x,[["render",I]]);export{P as default};
