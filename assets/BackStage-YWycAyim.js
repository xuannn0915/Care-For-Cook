import{_ as u,C as f,r as d,o as p,c as h,a as e,b as t,w as o,d as c,s as b,n as k,u as g,F as x}from"./index-BBQGelJS.js";import{_ as y}from"./logo-hps5Rt1R.js";const w={data(){return{sidebar:null}},methods:{signout(){document.cookie="CareForCookToken=;expires=;",alert("token 已清除"),this.$router.push("/")},openSidebar(){this.sidebar.collapse("show")},closeSidebar(){this.sidebar.collapse("hide")}},mounted(){this.sidebar=new f(document.getElementById("sidebar")),console.log(this.sidebar)}},$={class:"backstage-sidebar-desktop p-6 vh-100 border d-inline-flex flex-column justify-content-between"},v={class:"d-flex justify-content-center"},S={class:"d-flex flex-column align-items-center"},C=e("button",{class:"bg-white border-0 p-0 mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebar","aria-expanded":"false","aria-controls":"collapseExample"},[e("span",{class:"material-icons pb-3"}," menu ")],-1),B=e("span",{class:"material-icons py-3"}," space_dashboard ",-1),E=e("span",{class:"material-icons py-3"}," inventory_2 ",-1),V=e("span",{class:"material-icons py-3"}," newspaper ",-1),T=e("span",{class:"material-icons py-3"}," mark_chat_unread ",-1),U=e("span",{class:"material-icons py-3"}," description ",-1),F={class:"collapse collapse-horizontal ms-4",id:"sidebar"},I=e("li",{style:{height:"36px"},class:"mb-2"},[e("img",{src:y,alt:"logo",class:"d-block pb-3 ms-auto"})],-1),R={class:"text-nowrap py-3"},z={class:"text-nowrap py-3"},N={class:"text-nowrap py-3"},j={class:"text-nowrap py-3"},A={class:"text-nowrap py-3"},D={class:"sidebar-bottom"},L=e("div",{class:"account-info mb-4 collapse collapse-horizontal text-nowrap",id:"sidebar"},[e("h5",{class:"mb-1"},"陳子瑄"),e("p",{class:"fs-6"},"程式開發UIUX")],-1),M=e("p",{class:"logout text-nowrap collapse collapse-horizontal",id:"sidebar"},"登出",-1),O=e("span",{class:"material-icons ms-2"}," logout ",-1);function P(n,a,i,m,_,l){const s=d("router-link");return p(),h("section",$,[e("div",v,[e("div",S,[C,e("ul",{onMouseover:a[0]||(a[0]=(...r)=>l.openSidebar&&l.openSidebar(...r))},[e("li",null,[t(s,{to:"/orders"},{default:o(()=>[B]),_:1})]),e("li",null,[t(s,{to:"products"},{default:o(()=>[E]),_:1})]),e("li",null,[t(s,{to:"articles"},{default:o(()=>[V]),_:1})]),e("li",null,[t(s,{to:"comments"},{default:o(()=>[T]),_:1})]),e("li",null,[t(s,{to:"contacts"},{default:o(()=>[U]),_:1})])],32)]),e("ul",F,[I,e("li",R,[t(s,{to:"/orders"},{default:o(()=>[c(" 訂單管理 ")]),_:1})]),e("li",z,[t(s,{to:"products"},{default:o(()=>[c(" 商品管理 ")]),_:1})]),e("li",N,[t(s,{to:"articles"},{default:o(()=>[c(" 文章管理 ")]),_:1})]),e("li",j,[t(s,{to:"comments"},{default:o(()=>[c(" 留言管理 ")]),_:1})]),e("li",A,[t(s,{to:"contacts"},{default:o(()=>[c(" 問卷管理 ")]),_:1})])])]),e("div",D,[L,t(s,{to:"/",href:"backstage_login.html",class:"btn btn-outline-primary px-2 d-flex align-items-center justify-content-center",onClick:b(l.signout,["prevent"])},{default:o(()=>[M,O]),_:1},8,["onClick"])])])}const H=u(w,[["render",P]]);var X={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"careforcook",BASE_URL:"/Care-For-Cook/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:q}=X,G={data(){return{checkSuccess:!1}},methods:{checkUser(){const n=document.cookie.replace(/(?:(?:^|.*;\s*)CareForCookToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(n){this.$http.defaults.headers.common.Authorization=`${n}`;const a=`${q}/v2/api/user/check`;this.$http.post(a,{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(i=>{alert(i.response.data.message),this.$router.push("/login")})}else alert("您尚未登入。"),this.$router.push("/login")}},components:{BackstageSidebar:H},mounted(){this.checkUser()}};function J(n,a,i,m,_,l){const s=d("BackstageSidebar"),r=d("router-view");return p(),h(x,null,[t(s),_.checkSuccess?(p(),k(r,{key:0})):g("",!0)],64)}const W=u(G,[["render",J]]);export{W as default};
