import{_ as u,r as d,o as _,c as h,a as t,b as s,w as o,d as c,s as g,n as f,u as b}from"./index-Dkrv-Zrl.js";import{_ as k}from"./logo-hps5Rt1R.js";const x={data(){return{sidebar:null,sidebarStatus:!1}},methods:{signout(){document.cookie="CareForCookToken=;expires=;",alert("token 已清除"),this.$router.push("/")},toggleLogo(){document.querySelector(".sidebar-top").classList.toggle("justify-content-between"),this.sidebarStatus=!this.sidebarStatus,this.$emit("toggleSidebar",this.sidebarStatus)}}},w={class:"backstage-sidebar-desktop p-6 vh-100 bg-white d-inline-flex flex-column justify-content-between"},$={class:"d-flex flex-column align-items-center"},v={class:"d-flex justify-content-center mb-3 w-100 sidebar-top"},S=t("span",{class:"material-icons align-bottom"}," menu ",-1),y=[S],C=t("img",{src:k,alt:"logo",class:"logo collapse collapse-horizontal multi-collapse"},null,-1),T={class:"collapse collapse-horizontal overflow-hidden multi-collapse"},B={class:"text-nowrap py-3"},L=t("span",{class:"material-icons align-bottom"}," space_dashboard ",-1),E={class:"text-nowrap py-3"},V=t("span",{class:"material-icons align-bottom"}," inventory_2 ",-1),U={class:"text-nowrap py-3"},z=t("span",{class:"material-icons align-bottom"}," newspaper ",-1),R={class:"text-nowrap py-3"},j=t("span",{class:"material-icons align-bottom"}," mark_chat_unread ",-1),I={class:"text-nowrap py-3"},N=t("span",{class:"material-icons align-bottom"}," description ",-1),A={class:"text-nowrap py-3"},D=t("span",{class:"material-icons align-bottom"}," image ",-1),F={class:"sidebar-bottom"},M=t("div",{class:"account-info mb-4 collapse collapse-horizontal text-nowrap multi-collapse"},[t("h5",{class:"mb-1"},"陳子瑄"),t("p",{class:"fs-6"},"程式開發UIUX")],-1),O=t("p",{class:"logout text-nowrap collapse collapse-horizontal multi-collapse"},"登出",-1),P=t("span",{class:"material-icons ms-2"}," logout ",-1);function q(a,n,i,m,p,l){const e=d("router-link");return _(),h("section",w,[t("div",$,[t("div",v,[t("button",{class:"bg-white border-0 p-0",type:"button","data-bs-toggle":"collapse","data-bs-target":".multi-collapse","aria-expanded":"false","aria-controls":"collapseExample",onClick:n[0]||(n[0]=(...r)=>l.toggleLogo&&l.toggleLogo(...r))},y),s(e,{to:"/"},{default:o(()=>[C]),_:1})]),t("ul",T,[t("li",B,[s(e,{to:"/orders"},{default:o(()=>[L,c(" 訂單管理 ")]),_:1})]),t("li",E,[s(e,{to:"products"},{default:o(()=>[V,c(" 商品管理 ")]),_:1})]),t("li",U,[s(e,{to:"articles"},{default:o(()=>[z,c(" 文章管理 ")]),_:1})]),t("li",R,[s(e,{to:"comments"},{default:o(()=>[j,c(" 留言管理 ")]),_:1})]),t("li",I,[s(e,{to:"contacts"},{default:o(()=>[N,c(" 問卷管理 ")]),_:1})]),t("li",A,[s(e,{to:"upload"},{default:o(()=>[D,c(" 圖片上傳 ")]),_:1})])])]),t("div",F,[M,s(e,{to:"/",href:"backstage_login.html",class:"btn btn-outline-primary px-2 d-flex align-items-center justify-content-center",onClick:g(l.signout,["prevent"])},{default:o(()=>[O,P]),_:1},8,["onClick"])])])}const H=u(x,[["render",q]]);var X={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"careforcook",BASE_URL:"/Care-For-Cook/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:G}=X,J={data(){return{checkSuccess:!1}},methods:{checkUser(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)CareForCookToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(a){this.$http.defaults.headers.common.Authorization=`${a}`;const n=`${G}/v2/api/user/check`;this.$http.post(n,{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(i=>{alert(i.response.data.message),this.$router.push("/login")})}else alert("您尚未登入。"),this.$router.push("/login")},toggleContent(a){a?this.$refs.content.classList.add("backstage-content-collapse"):this.$refs.content.classList.remove("backstage-content-collapse")}},components:{BackstageSidebar:H},mounted(){this.checkUser()}},K={class:"wrap d-flex flex-lg-row flex-column w-100"},Q={class:"p-lg-6 p-4 backstage-content ms-auto",ref:"content"};function W(a,n,i,m,p,l){const e=d("BackstageSidebar"),r=d("router-view");return _(),h("div",K,[s(e,{onToggleSidebar:l.toggleContent},null,8,["onToggleSidebar"]),t("div",Q,[p.checkSuccess?(_(),f(r,{key:0})):b("",!0)],512)])}const tt=u(J,[["render",W]]);export{tt as default};
